<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Hello World!</title>

    <!-- Vue -->
    <script src="node_modules/vue/dist/vue.min.js"></script>

    <!-- jQuery -->
    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <script>
        var $ = require('jquery')
    </script>

    <!-- font -->
    <link rel="stylesheet" href="node_modules/font-awesome/css/font-awesome.min.css">

    <!-- bulma -->
    <link rel="stylesheet" href="node_modules/bulma/css/bulma.css">
</head>
<body lang="zh-cn">
    <!--title -->
    <section class="hero is-link">
        <div class="hero-body">
            <div class="container">
                <div class="columns is-vcentered">
                    <div class="column">
                        <p class="title">
                            手写数字识别
                        </p>
                        <p class="subtitle">
                            Power by <strong>TensorFLow</strong>.这里想办法多写一点，不然不好看。
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- nav -->
    <nav class="navbar has-shadow">
        <div class="container">
            <div class="navbar-tabs">
                <a class="navbar-item is-tab is-active">
                    画板
                </a>
                <a class="navbar-item is-tab ">
                    摄像头
                </a>
                <a class="navbar-item is-tab">
                    关于
                </a>
            </div>
        </div>
    </nav>

    <!-- body -->
    <section class="section">
        <div class="columns">
            <div class="column">
                <section class="hero is-link" id="mnist-image-column">
                    <canvas class="image" id="mnist-image"></canvas>
                </section>
            </div>
            <div class="column">
                <div class="button is-warning">draw</div>
                <div class="button is-warning">clear</div>
                <div class="button is-warning">move</div>
                <div class="button is-warning">save</div>
                <div class="button is-warning">load</div>
                <div class="button is-warning">verify</div>
            </div>
        </div>
    </section>

    <!-- canvas -->
    <script>
        //get canvas
        var canvas = document.getElementById("mnist-image")
        if (canvas == null)
            console.log('canvas init failed!')

        //set canvas resize on window size change
        window.onresize = function () {
            var canvasColumn = document.getElementById("mnist-image-column")
            canvas.width = (canvasColumn.clientWidth > 480) ? 480 : canvasColumn.clientWidth;
            canvas.height = canvas.width;
        }
        //resize to show
        window.onresize()

        //set draw status
        var drable = false;
        canvas.onmousedown = function () { drable = true }
        canvas.onmouseup = function () { drable = false }

        //draw
        canvas.onmousemove = function (e) {
            if (drable) {
                context.fillRect(e.layerX, e.layerY, 10, 10)
            }
        }

        var context = canvas.getContext('2d');
    </script>

    <!-- navs -->
    <script>

    </script>

    <!-- footer -->
    <footer class="footer">
        <div class="container">
            <div class="content has-text-centered">
                <p>
                    <strong>MnistUi</strong> by <a href="http://jgthms.com">FeiLong</a>.
                </p>
            </div>
        </div>
    </footer>
</body>
</html>
